import{a as c,j as R,l as J,m as Y,b as E,F as ee}from"./vendor.6dd26a1e.js";import{a as g,b as te,d as S,_ as j,h as ne,O as re,m as F,S as A,r as $,F as Q,o as oe,p as ie,f as z,e as W,c as P,K as m,i as ae,g as ue}from"./open-closed.esm.3e9d81b8.js";function K(e){var r;if(e.type)return e.type;var n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function se(e,r){var n=c.exports.useState(function(){return K(e)}),o=n[0],i=n[1];return g(function(){i(K(e))},[e.type,e.as]),g(function(){o||!r.current||r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&i("button")},[o,r]),o}function N(){var e=[],r={requestAnimationFrame:function(n){function o(){return n.apply(this,arguments)}return o.toString=function(){return n.toString()},o}(function(){var n=requestAnimationFrame.apply(void 0,arguments);r.add(function(){return cancelAnimationFrame(n)})}),nextFrame:function(){for(var o=arguments.length,i=new Array(o),t=0;t<o;t++)i[t]=arguments[t];r.requestAnimationFrame(function(){r.requestAnimationFrame.apply(r,i)})},setTimeout:function(n){function o(){return n.apply(this,arguments)}return o.toString=function(){return n.toString()},o}(function(){var n=setTimeout.apply(void 0,arguments);r.add(function(){return clearTimeout(n)})}),add:function(o){e.push(o)},dispose:function(){for(var o=te(e.splice(0)),i;!(i=o()).done;){var t=i.value;t()}}};return r}function G(){var e=c.exports.useState(N),r=e[0];return c.exports.useEffect(function(){return function(){return r.dispose()}},[r]),r}function V(e,r){var n=c.exports.useState(e),o=n[0],i=n[1],t=c.exports.useRef(e);return g(function(){t.current=e},[e]),g(function(){return i(t.current)},[t,i].concat(r)),o}function le(e){throw new Error("Unexpected object: "+e)}var x;(function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"})(x||(x={}));function ce(e,r){var n=r.resolveItems();if(n.length<=0)return null;var o=r.resolveActiveIndex(),i=o!=null?o:-1,t=function(){switch(e.focus){case x.First:return n.findIndex(function(l){return!r.resolveDisabled(l)});case x.Previous:{var a=n.slice().reverse().findIndex(function(l,f,C){return i!==-1&&C.length-f-1>=i?!1:!r.resolveDisabled(l)});return a===-1?a:n.length-1-a}case x.Next:return n.findIndex(function(l,f){return f<=i?!1:!r.resolveDisabled(l)});case x.Last:{var d=n.slice().reverse().findIndex(function(l){return!r.resolveDisabled(l)});return d===-1?d:n.length-1-d}case x.Specific:return n.findIndex(function(l){return r.resolveId(l)===e.id});case x.Nothing:return null;default:le(e)}}();return t===-1?o:t}var I,p;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(p||(p={}));var u;(function(e){e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption"})(u||(u={}));var de=(I={},I[u.CloseListbox]=function(e){return e.disabled||e.listboxState===p.Closed?e:S({},e,{activeOptionIndex:null,listboxState:p.Closed})},I[u.OpenListbox]=function(e){return e.disabled||e.listboxState===p.Open?e:S({},e,{listboxState:p.Open})},I[u.SetDisabled]=function(e,r){return e.disabled===r.disabled?e:S({},e,{disabled:r.disabled})},I[u.SetOrientation]=function(e,r){return e.orientation===r.orientation?e:S({},e,{orientation:r.orientation})},I[u.GoToOption]=function(e,r){if(e.disabled||e.listboxState===p.Closed)return e;var n=ce(r,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(i){return i.id},resolveDisabled:function(i){return i.dataRef.current.disabled}});return e.searchQuery===""&&e.activeOptionIndex===n?e:S({},e,{searchQuery:"",activeOptionIndex:n})},I[u.Search]=function(e,r){if(e.disabled||e.listboxState===p.Closed)return e;var n=e.searchQuery+r.value.toLowerCase(),o=e.options.findIndex(function(i){var t;return!i.dataRef.current.disabled&&((t=i.dataRef.current.textValue)==null?void 0:t.startsWith(n))});return o===-1||o===e.activeOptionIndex?S({},e,{searchQuery:n}):S({},e,{searchQuery:n,activeOptionIndex:o})},I[u.ClearSearch]=function(e){return e.disabled||e.listboxState===p.Closed||e.searchQuery===""?e:S({},e,{searchQuery:""})},I[u.RegisterOption]=function(e,r){return S({},e,{options:[].concat(e.options,[{id:r.id,dataRef:r.dataRef}])})},I[u.UnregisterOption]=function(e,r){var n=e.options.slice(),o=e.activeOptionIndex!==null?n[e.activeOptionIndex]:null,i=n.findIndex(function(t){return t.id===r.id});return i!==-1&&n.splice(i,1),S({},e,{options:n,activeOptionIndex:function(){return i===e.activeOptionIndex||o===null?null:n.indexOf(o)}()})},I),M=c.exports.createContext(null);M.displayName="ListboxContext";function T(e){var r=c.exports.useContext(M);if(r===null){var n=new Error("<"+e+" /> is missing a parent <"+y.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,T),n}return r}function fe(e,r){return F(r.type,de,e,r)}var pe=c.exports.Fragment;function y(e){var r,n=e.value,o=e.onChange,i=e.disabled,t=i===void 0?!1:i,a=e.horizontal,d=a===void 0?!1:a,l=j(e,["value","onChange","disabled","horizontal"]),f=d?"horizontal":"vertical",C=c.exports.useReducer(fe,{listboxState:p.Closed,propsRef:{current:{value:n,onChange:o}},labelRef:c.exports.createRef(),buttonRef:c.exports.createRef(),optionsRef:c.exports.createRef(),disabled:t,orientation:f,options:[],searchQuery:"",activeOptionIndex:null}),h=C[0],L=h.listboxState,w=h.propsRef,k=h.optionsRef,_=h.buttonRef,D=C[1];g(function(){w.current.value=n},[n,w]),g(function(){w.current.onChange=o},[o,w]),g(function(){return D({type:u.SetDisabled,disabled:t})},[t]),g(function(){return D({type:u.SetOrientation,orientation:f})},[f]),ne("mousedown",function(s){var b,v,B=s.target;if(L===p.Open&&!((b=_.current)==null?void 0:b.contains(B))&&!((v=k.current)==null?void 0:v.contains(B))&&(D({type:u.CloseListbox}),!oe(B,ie.Loose))){var U;s.preventDefault(),(U=_.current)==null||U.focus()}});var O=c.exports.useMemo(function(){return{open:L===p.Open,disabled:t}},[L,t]);return R(M.Provider,{value:C,children:R(re,{value:F(L,(r={},r[p.Open]=A.Open,r[p.Closed]=A.Closed,r)),children:$({props:l,slot:O,defaultTag:pe,name:"Listbox"})})})}var ve="button",be=z(function e(r,n){var o,i=T([y.name,e.name].join(".")),t=i[0],a=i[1],d=W(t.buttonRef,n),l="headlessui-listbox-button-"+P(),f=G(),C=c.exports.useCallback(function(O){switch(O.key){case m.Space:case m.Enter:case m.ArrowDown:O.preventDefault(),a({type:u.OpenListbox}),f.nextFrame(function(){t.propsRef.current.value||a({type:u.GoToOption,focus:x.First})});break;case m.ArrowUp:O.preventDefault(),a({type:u.OpenListbox}),f.nextFrame(function(){t.propsRef.current.value||a({type:u.GoToOption,focus:x.Last})});break}},[a,t,f]),h=c.exports.useCallback(function(O){switch(O.key){case m.Space:O.preventDefault();break}},[]),L=c.exports.useCallback(function(O){if(ae(O.currentTarget))return O.preventDefault();t.listboxState===p.Open?(a({type:u.CloseListbox}),f.nextFrame(function(){var s;return(s=t.buttonRef.current)==null?void 0:s.focus({preventScroll:!0})})):(O.preventDefault(),a({type:u.OpenListbox}))},[a,f,t]),w=V(function(){if(!!t.labelRef.current)return[t.labelRef.current.id,l].join(" ")},[t.labelRef.current,l]),k=c.exports.useMemo(function(){return{open:t.listboxState===p.Open,disabled:t.disabled}},[t]),_=r,D={ref:d,id:l,type:se(r,t.buttonRef),"aria-haspopup":!0,"aria-controls":(o=t.optionsRef.current)==null?void 0:o.id,"aria-expanded":t.disabled?void 0:t.listboxState===p.Open,"aria-labelledby":w,disabled:t.disabled,onKeyDown:C,onKeyUp:h,onClick:L};return $({props:S({},_,D),slot:k,defaultTag:ve,name:"Listbox.Button"})}),xe="label";function q(e){var r=T([y.name,q.name].join(".")),n=r[0],o="headlessui-listbox-label-"+P(),i=c.exports.useCallback(function(){var d;return(d=n.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})},[n.buttonRef]),t=c.exports.useMemo(function(){return{open:n.listboxState===p.Open,disabled:n.disabled}},[n]),a={ref:n.labelRef,id:o,onClick:i};return $({props:S({},e,a),slot:t,defaultTag:xe,name:"Listbox.Label"})}var he="ul",me=Q.RenderStrategy|Q.Static,Ce=z(function e(r,n){var o,i=T([y.name,e.name].join(".")),t=i[0],a=i[1],d=W(t.optionsRef,n),l="headlessui-listbox-options-"+P(),f=G(),C=G(),h=ue(),L=function(){return h!==null?h===A.Open:t.listboxState===p.Open}();g(function(){var s=t.optionsRef.current;!s||t.listboxState===p.Open&&s!==document.activeElement&&s.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);var w=c.exports.useCallback(function(s){switch(C.dispose(),s.key){case m.Space:if(t.searchQuery!=="")return s.preventDefault(),s.stopPropagation(),a({type:u.Search,value:s.key});case m.Enter:if(s.preventDefault(),s.stopPropagation(),a({type:u.CloseListbox}),t.activeOptionIndex!==null){var b=t.options[t.activeOptionIndex].dataRef;t.propsRef.current.onChange(b.current.value)}N().nextFrame(function(){var v;return(v=t.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})});break;case F(t.orientation,{vertical:m.ArrowDown,horizontal:m.ArrowRight}):return s.preventDefault(),s.stopPropagation(),a({type:u.GoToOption,focus:x.Next});case F(t.orientation,{vertical:m.ArrowUp,horizontal:m.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),a({type:u.GoToOption,focus:x.Previous});case m.Home:case m.PageUp:return s.preventDefault(),s.stopPropagation(),a({type:u.GoToOption,focus:x.First});case m.End:case m.PageDown:return s.preventDefault(),s.stopPropagation(),a({type:u.GoToOption,focus:x.Last});case m.Escape:return s.preventDefault(),s.stopPropagation(),a({type:u.CloseListbox}),f.nextFrame(function(){var v;return(v=t.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})});case m.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(a({type:u.Search,value:s.key}),C.setTimeout(function(){return a({type:u.ClearSearch})},350));break}},[f,a,C,t]),k=V(function(){var s,b,v;return(s=(b=t.labelRef.current)==null?void 0:b.id)!=null?s:(v=t.buttonRef.current)==null?void 0:v.id},[t.labelRef.current,t.buttonRef.current]),_=c.exports.useMemo(function(){return{open:t.listboxState===p.Open}},[t]),D={"aria-activedescendant":t.activeOptionIndex===null||(o=t.options[t.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":k,"aria-orientation":t.orientation,id:l,onKeyDown:w,role:"listbox",tabIndex:0,ref:d},O=r;return $({props:S({},O,D),slot:_,defaultTag:he,features:me,visible:L,name:"Listbox.Options"})}),Oe="li";function H(e){var r=e.disabled,n=r===void 0?!1:r,o=e.value,i=j(e,["disabled","value"]),t=T([y.name,H.name].join(".")),a=t[0],d=t[1],l="headlessui-listbox-option-"+P(),f=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===l:!1,C=a.propsRef.current.value===o,h=c.exports.useRef({disabled:n,value:o});g(function(){h.current.disabled=n},[h,n]),g(function(){h.current.value=o},[h,o]),g(function(){var b,v;h.current.textValue=(b=document.getElementById(l))==null||(v=b.textContent)==null?void 0:v.toLowerCase()},[h,l]);var L=c.exports.useCallback(function(){return a.propsRef.current.onChange(o)},[a.propsRef,o]);g(function(){return d({type:u.RegisterOption,id:l,dataRef:h}),function(){return d({type:u.UnregisterOption,id:l})}},[h,l]),g(function(){var b;a.listboxState===p.Open&&(!C||(d({type:u.GoToOption,focus:x.Specific,id:l}),(b=document.getElementById(l))==null||b.focus==null||b.focus()))},[a.listboxState]),g(function(){if(a.listboxState===p.Open&&!!f){var b=N();return b.nextFrame(function(){var v;return(v=document.getElementById(l))==null||v.scrollIntoView==null?void 0:v.scrollIntoView({block:"nearest"})}),b.dispose}},[l,f,a.listboxState]);var w=c.exports.useCallback(function(b){if(n)return b.preventDefault();L(),d({type:u.CloseListbox}),N().nextFrame(function(){var v;return(v=a.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})},[d,a.buttonRef,n,L]),k=c.exports.useCallback(function(){if(n)return d({type:u.GoToOption,focus:x.Nothing});d({type:u.GoToOption,focus:x.Specific,id:l})},[n,l,d]),_=c.exports.useCallback(function(){n||f||d({type:u.GoToOption,focus:x.Specific,id:l})},[n,f,l,d]),D=c.exports.useCallback(function(){n||!f||d({type:u.GoToOption,focus:x.Nothing})},[n,f,d]),O=c.exports.useMemo(function(){return{active:f,selected:C,disabled:n}},[f,C,n]),s={id:l,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":C===!0?!0:void 0,disabled:void 0,onClick:w,onFocus:k,onPointerMove:_,onMouseMove:_,onPointerLeave:D,onMouseLeave:D};return $({props:S({},i,s),slot:O,defaultTag:Oe,name:"Listbox.Option"})}y.Button=be;y.Label=q;y.Options=Ce;y.Option=H;function ge(){const e=J(),[r,n]=Y(),o=c.exports.useCallback(i=>{n(e.find(t=>t.isoCode===i))},[e,n]);return R("div",{className:"hidden lg:block",children:R(y,{onChange:o,children:({open:i})=>E(ee,{children:[E(y.Button,{className:"font-medium text-sm h-8 p-2 flex items-center",children:[R("span",{className:"mr-4",children:r.currency.isoCode}),R(X,{isOpen:i})]}),R(y.Options,{className:"absolute z-10 mt-2",children:E("div",{className:"bg-white p-4 rounded-lg drop-shadow-2xl",children:[R(y.Option,{disabled:!0,className:"p-2 text-md text-left font-medium uppercase",children:"Currency"}),e.map(t=>{const a=t.isoCode===r.isoCode;return R(y.Option,{value:t.isoCode,children:({active:d})=>E("div",{className:`w-36 py-2 px-3 flex justify-between items-center text-left cursor-pointer rounded
                          ${d?"bg-gray-200":null}`,children:[t.currency.isoCode,a?R(Z,{}):null]})},t.isoCode)})]})})]})})})}function Z(){return R("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:R("path",{d:"M7 10L9 12L13 8M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z",stroke:"#354CF6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function X({isOpen:e}){return R("svg",{className:`transition-transform duration-300 ${e?"rotate-180":null}`,"aria-hidden":"true",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292893 0.292893C0.683416 -0.097631 1.31658 -0.097631 1.7071 0.292893L4.99999 3.58579L8.29288 0.292893C8.6834 -0.0976311 9.31657 -0.0976311 9.70709 0.292893C10.0976 0.683417 10.0976 1.31658 9.70709 1.70711L5.7071 5.70711C5.31657 6.09763 4.68341 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976309 1.31658 -0.0976309 0.683417 0.292893 0.292893Z",fill:"#374151"})})}var ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ge,CheckIcon:Z,ArrowIcon:X});export{X as A,ge as C,y as L,Z as a,ye as b};
//# sourceMappingURL=CurrencySelector.client.23c5c108.js.map
